<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Confirm Flight</title>
    <link rel="stylesheet" href="/styles/yourStyleSheet.css" />
</head>
<body>

<!-- Confirmation Card -->
<div class="card">
    <h2>Confirm Your Flight</h2>

    <form th:action="@{/customer/{customerID}/paymentmethoddetails(customerID=${customer.id})}"
          method="POST">
        <input type="hidden" name="tripType" th:value="${tripType}"> <!-- Add this -->
        <input type="hidden" name="outboundFlightId" th:value="${outboundFlight.flightID}">
        <input type="hidden" name="returnFlightId" th:value="${returnFlight != null ? returnFlight.flightId : null}">
        <input type="hidden" name="dashPassOption" th:value="${dashPassOption}">
        <input type="hidden" name="totalPrice" th:value="${totalPrice}">
        <!-- Outbound Flight Details -->
        <h3>Outbound Flight</h3>
        <p th:text="${outboundFlight.flightNumber}">Flight Number</p>
        <p th:text="${outboundFlight.departureAirportCode}">Departure Airport</p>
        <p th:text="${outboundFlight.arrivalAirportCode}">Arrival Airport</p>
        <!-- More outbound flight details -->
        <!-- Trip Type (hidden field or select based on user's choice) -->


        <!-- Return Flight Details (if applicable) -->
        <div th:if="${returnFlight != null}">
            <h3>Return Flight</h3>
            <p th:text="${returnFlight.flightNumber}">Return Flight Number</p>
            <p th:text="${returnFlight.departureAirportCode}">Return Departure Airport</p>
            <p th:text="${returnFlight.arrivalAirportCode}">Return Arrival Airport</p>
            <!-- More return flight details -->
        </div>

        <!-- DashPass Option -->
        <h3>DashPass Option</h3>
        <div th:if="${dashPassOption == 'existing'}">
            <p>Using Existing DashPass:</p>
            <p>DashPass ID: <span th:text="${dashPass.id}"></span></p>
            <p>Valid Until: <span th:text="${dashPass.expirationDate}"></span></p>
        </div>

        <div th:if="${dashPassOption == 'purchase'}">
            <p>Purchasing New DashPass:</p>
            <p>DashPass Price: $<span th:text="${#numbers.format(dashPass.price, 1, 'COMMA', 2, 'POINT')}"></span></p>
        </div>

        <!-- Hidden fields to pass the necessary data -->
        <input type="hidden" name="outboundFlightID" th:value="${outboundFlight.flightID}">
        <input type="hidden" name="returnFlightID" th:value="${returnFlight != null ? returnFlight.flightID : null}">
        <input type="hidden" name="dashPassOption" th:value="${dashPassOption}">

        <!-- Total Price (optional) -->
        <p>Total Price: $<span th:text="${totalPrice}"></span></p>
        <input type="hidden" name="totalPrice" th:value="${#numbers.formatDecimal(totalPrice, 1, 'COMMA', 2, 'POINT')}">

        <!-- Submit and Cancel Buttons -->
        <button type="submit">Confirm Booking</button>
        <button type="button" onclick="window.history.back();">Cancel</button>
    </form>
</div>

</body>
</html>
