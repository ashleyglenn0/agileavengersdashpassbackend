<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Review DashPass Order</title>
</head>
<body>
<h1>Review Your DashPass Order</h1>

<div>
    <h2>Customer Information</h2>
    <p>Name: <span th:text="${customer.user.firstName} + ' ' + ${customer.user.lastName}"></span></p>
    <p>Email: <span th:text="${customer.user.email}"></span></p>
</div>

<div>
    <h2>DashPass Details</h2>
    <p>Quantity: <span th:text="${dashPassQuantity}"></span></p>
    <p>Total Price: $<span th:text="${totalPrice}"></span></p>
</div>

<!-- Conditional rendering for reservation -->
<div th:if="${reservation != null}">
    <h2>Reservation Details</h2>
    <p>Reservation ID: <span th:text="${reservation.reservationId}"></span></p>
    <p>Flight Date: <span th:text="${#temporals.format(reservation.flightDepartureDate, 'yyyy-MM-dd')}"></span></p>
    <p>Airport Code: <span th:text="${reservation.airportCode}"></span></p>
</div>
<div th:if="${reservation == null}">
    <h2>Reservation</h2>
    <p>No reservation attached.</p>
</div>

<!-- Continue to payment method details -->
<form th:action="@{/customer/{customerID}/dashpasspaymentmethoddetails(customerID=${customer.id})}" method="get">
    <input type="hidden" name="dashPassQuantity" th:value="${dashPassQuantity}">
    <input type="hidden" name="totalPrice" th:value="${totalPrice}">
    <input type="hidden" name="selectedReservationId" th:value="${reservation != null ? reservation.reservationId : null}">

    <button type="submit">Proceed to Payment</button>
</form>

<button type="button" onclick="window.history.back();">Cancel</button>
</body>
</html>
